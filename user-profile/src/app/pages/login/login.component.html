<mat-stepper orientation="vertical" [linear]="!isLinear" #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Che tipo di persona sei?</ng-template>
      <mat-form-field appearance="fill">
        <mat-label>Scegli</mat-label>
        <mat-select matInput formControlName="personType" required>
          <mat-option value="natural">Persona fisica</mat-option>
          <mat-option value="legal">Persona giuridica</mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <button mat-button matStepperNext>Prossimo</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Inserisci i tuoi dati</ng-template>
    <div *ngIf="personType?.value === 'natural'">
      <form [formGroup]="secondFormGroup">
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Nome</mat-label>
            <input matInput formControlName="name" required />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Cognome</mat-label>
            <input matInput formControlName="surname" required />
          </mat-form-field>
        </div>
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Tipo di Via</mat-label>
            <mat-select matInput formControlName="addressType" required>
              <mat-option value="via">Via</mat-option>
              <mat-option value="viale">Viale</mat-option>
              <mat-option value="corso">Corso</mat-option>
              <mat-option value="piazza">Piazza</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Nome della Via</mat-label>
            <input matInput formControlName="addressName" required />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Civico</mat-label>
            <input matInput formControlName="houseNumber" required />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Cap</mat-label>
            <input matInput formControlName="cap" required />
          </mat-form-field>
        </div>
        <div>
          <button mat-button (click)="signIn()" type="submit">Invia</button>
        </div>
      </form>
    </div>
    <div *ngIf="personType?.value === 'legal'">
      <form [formGroup]="thirdFormGroup">
        <mat-form-field appearance="fill">
          <mat-label>Ragione sociale</mat-label>
          <input matInput formControlName="businessName" required />
        </mat-form-field>
        <div>
          <button mat-button (click)="signIn()" type="submit">Invia</button>
        </div>
      </form>
    </div>
  </mat-step>
</mat-stepper>
